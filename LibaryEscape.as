package{		//greensock imports	import com.greensock.events.LoaderEvent;	import com.greensock.loading.ImageLoader;	import com.greensock.loading.LoaderMax;	import com.greensock.loading.SWFLoader;	import com.greensock.loading.XMLLoader;	import com.greensock.loading.core.LoaderItem;		import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.Event;	import flash.net.URLLoader;	import flash.net.URLRequest;
		public class LibaryEscape extends MovieClip	{		private var xmlcue:LoaderMax;		private var scene:Scene;		private var ui:UserInterface;		private var huidigeScene:Number;		private var volgendeScene:Number;		private var splashscreen:Boolean;		private var safe:Safeclass = new Safeclass();		private var xmlloader:URLLoader = new URLLoader();		private var Xmldata:XML = new XML();				public function LibaryEscape():void		{			//setting screen to fullscreen size			var fs:Screensize = new Screensize(-100,-100,20,20);			addChildAt(fs,0);			fs.fullscreenauto();						genarate_key();						xmlloader.addEventListener(Event.COMPLETE,xmlcomplete);			xmlloader.load(new URLRequest("xml/scenes.xml"));		}				private function genarate_key():void {			var code:Array = new Array();			for(var i:uint; i<4; i++) {				code.push(Math.round((Math.random()*10)-0.5));			}			safe.storecode(code);		}				private function xmlcomplete(e:Event):void {			Xmldata = new XML(e.target.data);						xmlcue = new LoaderMax({name:"mainque",onProgress:progressHandler, onComplete:completeHandler, onError:errorHandler});			xmlcue.append(new SWFLoader("Start.swf",{name:"start"}));			xmlcue.load(true);		}				private function progressHandler(event:LoaderEvent):void {			trace("progress: " + event.target.progress);		}				private function errorHandler(event:LoaderEvent):void {			trace("error occured with " + event.target + ": " + event.text);		}					private function completeHandler(event:LoaderEvent):void {			buildscreen(Xmldata,0);		}				private function buildscreen(xml:XML,sceneNumber:Number):void {			//building scene			scene = new Scene(xml,sceneNumber);			addChildAt(scene,0)			//building UI			//ui = new UserInterface(xml,sceneNumber);			//setting up navigation					}	}}